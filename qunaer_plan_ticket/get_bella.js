const enc = require("./tools/enc.js");

window = global;
body = {};
head = {};
cookie = 'QN1=00014880306c69887fd89081; QN99=3356; QunarGlobal=10.80.148.213_-310e495_1942bd1aa31_-5f80|1736083976718; QN269=92D175A2CB6911EFB7B1B27797673177; fid=402ca3b5-53f1-4d84-be9d-3334724517cf; QN48=tc_c4221e8d2333f66e_19436ab5493_aa57; quinn=18a02bf6edef77e8d485d25690e8487889495f21eb6b5d31b42b69dd537d3aee8977d11930cf5d56d536f23a75247718; ariaDefaultTheme=null; QN100=WyLpqazmnaXopb%2Fkupp85YyX5LqsIl0%3D; QN162=%E5%8C%97%E4%BA%AC; QN243=77; ctt_june=1683616182042##iK3waKj%2BahPwawPwa%3DPOasHhaKkDWsvAXPaOEKgnE2PsED3NWRX8WR0GW%3DX%2BiK3siK3saKgsWSvmWRa%3DaKa%2BahPwaUvt; QN300=wx; Alina=90c4e48d-58fd70-694edd65-33b98271-528c677a8d6c; QN271AC=register_pc; QN271SL=4d109f4265fe440c9b79a32263f79db1; QN271RC=4d109f4265fe440c9b79a32263f79db1; _q=U.qpxouyq4959; csrfToken=PkSBxPgRAjwdnikjVnvwlcregL0nsyqa; _t=29044203; QN43=""; QN42=%E5%8E%BB%E5%93%AA%E5%84%BF%E7%94%A8%E6%88%B7; _i=DFiEZn8JNdfDWCHL_LEmmxpzEMUw; 11344=1722403391463##iK3wWs2sVuPwawPwasWIEKWTa2fREKEDVRHGWsjNEKjwVRPAW2EhEPana2X%2BiK3siK3saKgsWSD%2BWSv8VKgAWhPwaUvt; 11536=1722403391463##iK3wVRj%3DWwPwawPwasv8asPwWRDwESkIVPD%3DaRjnW2EDERfDWPjsa2XsVR3NiK3siK3saKgsWSvmWRv8VK2%2BaUPwaUvt; QN621=1490067914133%2Ctestssong%3DDEFAULT%26fr%3Dtouch_index_search; F235=1736776764418; QN668=51%2C57%2C53%2C56%2C57%2C57%2C57%2C57%2C58%2C57%2C50%2C51%2C55; ctf_june=1683616182042##iK3wWsg%3DaUPwawPwa%3DDnasgmWSawa23wa2X%3DEPPNXP3nWPXOESHhESfTaKiDiK3siK3saKgsWSg%2BWsgmWsanaUPwaUvt; cs_june=3eefbca61dce72ffdbdf45a8506958265556270e462d17002582cccea5d291cc7b07f969038b7c3c8a130d059a16cefc58762a43c47c777f9296c839891da305b17c80df7eee7c02a9c1a6a5b97c117973efd745900739d26ed782bd03c534785a737ae180251ef5be23400b098dd8ca';
location = {
    "ancestorOrigins": {},
    "href": "https://www.geetest.com/demo/slide-float.html",
    "origin": "https://www.geetest.com",
    "protocol": "https:",
    "host": "www.geetest.com",
    "hostname": "www.geetest.com",
    "port": "",
    "pathname": "/demo/slide-float.html",
    "search": "",
    "hash": ""
}
document = {
    body: body,
    head: head,
    cookie: cookie,
    createElement: function (res) {
        if (res === 'canvas') {
            return canvas;
        }
    },
}
navigator = {
    userAgent: "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/131.0.0.0 Safari/537.36",
}
Object.setPrototypeOf(location, window);
Object.setPrototypeOf(navigator, window);


(function () {
        window.june_v = '1683616182042'
    }
)();

_0x481ca8 = {
    "_firstScreen": "1",
    "_gogokid": "12",
    "arrCity": "上海",
    "baby": "0",
    "cabinType": "0",
    "child": "0",
    "depCity": "北京",
    "from": "touch_index_search",
    "goDate": "2025-01-20",
    "firstRequest": true,
    "startNum": 0,
    "sort": 5,
    "r": 1737171011555,
    "_v": 2,
    "underageOption": "",
    "st": 1737171011553,
    "more": 1
}
_0x33dbda = [
    {
        "key": "referer",
        "value": ""
    },
    {
        "key": "piccolo",
        "value": "3545##E426058E0D3E9D64##1737187486141"
    },
    {
        "key": "shirley",
        "value": "8fb90e74bfae40f7877f3c30b7cb50a2"
    },
    {
        "key": "title",
        "value": "去哪儿网机票服务"
    },
    {
        "key": "keywords",
        "value": ",去那儿,航班查询,"
    },
    {
        "key": "description",
        "value": "去哪儿(Qunar.com)飞机票,特价"
    },
    {
        "key": "host",
        "value": "m.flight.qunar.com"
    },
    {
        "key": "scriptSrc",
        "value": [
            "webresource.c-ct",
            "common.qunarzz.c"
        ]
    }
]

function _0x318499(_0x481ca8) {
    var _0x35a84a = [];
    var _0x1bfe75 = '';
    var _0x2822b9 = Object["keys"](_0x481ca8);
    var _0x1a34c2 = _0x2822b9["length"];
    if (['login_touch', "login_register_touch", "login_register_pc"]['includes'](window['piccoloT'])) {
        for (var _0x4474e5 = 0x0; _0x4474e5 < _0x1a34c2; _0x4474e5++) {
            if ("UaUMl" === "vfMmg") {
                this["_hash"] = new WordArray[("init")]([0x67452301, 0xefcdab89, 0x98badcfe, 0x10325476, 0xc3d2e1f0]);
            } else {
                var _0x229150 = _0x481ca8[_0x2822b9[_0x4474e5]];
                var _0x3290c0 = _0x30e603(_0x229150);
                if (_0x3290c0 !== '') {
                    if ('kesbb' === "ZPUrr") {
                        TypedArray = wrapper(function (_0x10ae97, _0x17550d, _0x3d821a, _0x171970) {
                            anInstance(_0x10ae97, TypedArray, NAME);
                            var _0x5c00a3;
                            if (!isObject(_0x17550d))
                                return new Base(toIndex(_0x17550d));
                            if (_0x17550d instanceof $ArrayBuffer || (_0x5c00a3 = classof(_0x17550d)) == ARRAY_BUFFER || _0x5c00a3 == SHARED_BUFFER) {
                                return _0x171970 !== undefined ? new Base(_0x17550d, toOffset(_0x3d821a, BYTES), _0x171970) : _0x3d821a !== undefined ? new Base(_0x17550d, toOffset(_0x3d821a, BYTES)) : new Base(_0x17550d);
                            }
                            if (TYPED_ARRAY in _0x17550d)
                                return fromList(TypedArray, _0x17550d);
                            return $from["call"](TypedArray, _0x17550d);
                        });
                        arrayForEach(TAC !== Function["prototype"] ? gOPN(Base)['concat'](gOPN(TAC)) : gOPN(Base), function (_0x20c096) {
                            if (!(_0x20c096 in TypedArray))
                                hide(TypedArray, _0x20c096, Base[_0x20c096]);
                        });
                        TypedArray[PROTOTYPE] = TypedArrayPrototype;
                        if (!LIBRARY)
                            TypedArrayPrototype["constructor"] = TypedArray;
                    } else {
                        if (['login_touch', 'login_register_touch']["includes"](window['piccoloT'])) {
                            if ("wiOHc" === "wiOHc") {
                                _0x3290c0 = decodeURIComponent(_0x3290c0);
                            } else {
                                for (var _0x4a0e3d = 0x0, _0x5068e3 = obj['length']; _0x4a0e3d < _0x5068e3; _0x4a0e3d++) {
                                    iterator(obj[_0x4a0e3d], _0x4a0e3d, obj);
                                }
                            }
                        }
                        _0x1bfe75 += _0x3290c0;
                        _0x35a84a["push"](_0x2822b9[_0x4474e5]);
                    }
                }
            }
        }
    } else {
        _0x1bfe75 = JSON["stringify"](_0x481ca8);
        _0x35a84a = _0x2822b9;
    }
    return {
        'bParam': _0x1bfe75,
        'keyArray': _0x35a84a
    };
}

function flatToMap(_0x347ac2, _0x5d8f86) {
    if ("JQMDL" === "JQMDL") {
        for (var _0x599886 = 0x0; _0x599886 < _0x347ac2.length; _0x599886++) {
            _0x5d8f86[_0x347ac2[_0x599886].key] = _0x347ac2[_0x599886].value;
        }
        return _0x5d8f86;
    } else {
        return Promise.resolve(value.__await).then(function (_0x212bae) {
            invoke("next", _0x212bae, resolve, reject);
        }, function (_0x43547d) {
            invoke("throw", _0x43547d, resolve, reject);
        });
    }
}

function _0x26cf34(_0x4800e6, _0x572efb) {
    var _0x5ee954 = ['qunar', 'tujia'];
    var _0x403118 = "B6F1YrNm+OA=sw";
    var _0x501116 = "n8xbeLlzQ";
    var _0x3b5454 = "p5M02SUHt/dog";
    var _0x251b31 = "cyfj-9kPKu";
    var _0x222d7d = "EX7VWaqJi";
    var _0x47c310 = "3CIGDRhTv4";
    var _0x3af887 = _0x572efb["join"]('') + (_0x403118 + _0x501116 + _0x3b5454 + _0x251b31 + _0x222d7d + _0x47c310);
    _0x3af887 = (_0x403118 + _0x501116 + _0x3b5454 + _0x251b31 + _0x222d7d + _0x47c310)["split"]('');
    _0x4800e6 = encodeURIComponent(_0x4800e6);
    while (_0x4800e6["length"] % 0x3 !== 0x0) {
        _0x4800e6 += '\x20';
    }
    var _0x933810 = _0x4800e6["split"]('')['map'](function (_0x3b5454) {
        if ("hQHwV" !== 'hQHwV') {
            return _defaultConst2['default']["string"];
        } else {
            return _0x21da9c(_0x3b5454);
        }
    });
    var _0x2e4d85 = [];
    while (_0x933810["length"]) {
        if ("aSTNy" !== "WNFnI") {
            var _0x28ee6c = _0x933810["splice"](0x0, 0x3);
            _0x2e4d85['push'](_0x28ee6c);
        } else {
            var _0x4dc529 = __webpack_require__(0x74);
            var _0x41a77c = __webpack_require__(0x99)['f'];
            __webpack_require__(0xcf)("getOwnPropertyDescriptor", function () {
                return function getOwnPropertyDescriptor(_0x490c78, _0x46611a) {
                    return _0x41a77c(_0x4dc529(_0x490c78), _0x46611a);
                }
                    ;
            });
        }
    }
    var _0x2a779b = '';
    var _0x3d0941 = !_0x5ee954["some"](function (_0x5e1140) {
        return window["location"]["href"]['includes'](_0x5e1140);
    });
    for (var _0x4366d6 = 0x0; _0x4366d6 < _0x2e4d85["length"]; _0x4366d6++) {
        var _0x28ee6c = _0x2e4d85[_0x4366d6];
        var _0x572061 = _0x28ee6c['join']('')['split']('');
        var _0x351bb8 = [];
        while (_0x572061["length"]) {
            if ('kTDzA' === "kTDzA") {
                _0x351bb8["push"](_0x572061['splice'](0x0, 0x6)['join'](''));
            } else {
                node["data"] = toggle = !toggle;
            }
        }
        _0x351bb8 = _0x351bb8["map"](function (_0x2a9721) {
            _0x2a9721 = _0x3d0941 ? _0x2a9721 : _0x2a9721["replace"](/\d/g, function (_0x222d7d) {
                return _0x222d7d === '1' ? 0x0 : 0x1;
            });
            var _0x856b2f = parseInt(_0x2d06ba(_0x2a9721, 0x8, '0'), 0x2);
            return _0x3af887[_0x856b2f];
        });
        _0x2a779b += _0x351bb8["join"]('');
    }
    return _0x2a779b;
}

function _0x21da9c(_0x1414cd) {
    return _0x2d06ba(_0x1414cd["charCodeAt"]()['toString'](0x2), 0x8, '0');
}

function _0x2d06ba(_0x411f6e, _0x550724, _0x3f4833) {
    _0x550724 = _0x550724 >> 0x0;
    _0x3f4833 = String(typeof _0x3f4833 !== "undefined" ? _0x3f4833 : '\x20');
    if (_0x411f6e['length'] > _0x550724) {
        if ("QjBAu" === "DRbRA") {
            var _0x2477da = this;
            var _0x1849a5 = validate(_0x2477da)["length"];
            var _0x371a2e = Math["floor"](_0x1849a5 / 0x2);
            var _0x59aaa1 = 0x0;
            var _0x6af540;
            while (_0x59aaa1 < _0x371a2e) {
                _0x6af540 = _0x2477da[_0x59aaa1];
                _0x2477da[_0x59aaa1++] = _0x2477da[--_0x1849a5];
                _0x2477da[_0x1849a5] = _0x6af540;
            }
            return _0x2477da;
        } else {
            return String(_0x411f6e);
        }
    } else {
        _0x550724 = _0x550724 - _0x411f6e["length"];
        if (_0x550724 > _0x3f4833["length"]) {
            if ('ioJZJ' === 'nMiqW') {
                _0x3881c3["exports"] = "constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf"["split"](',');
            } else {
                _0x3f4833 += _0x3f4833["repeat"](_0x550724 / _0x3f4833["length"]);
            }
        }
        return _0x3f4833["slice"](0x0, _0x550724) + String(_0x411f6e);
    }
}


!function (_0x4574e9, _0x47c5cd) {
    var _0x24b4d9 = '-_';
    var _0x391ca2 = 0x24;
    while (_0x391ca2--) {
        _0x24b4d9 += _0x391ca2['toString'](0x24);
    }
    _0x391ca2 = 0x24;
    while (_0x391ca2-- - 0xa) {
        if ("Djjfe" === "jFAvI") {
            this["_append"](dataUpdate);
        } else {
            _0x24b4d9 += _0x391ca2['toString'](0x24)["toUpperCase"]();
        }
    }
    window.get_0x2fa5d6 = function (_0x35f4d3) {
        var _0xa06f56 = '';
        _0x391ca2 = _0x35f4d3 || 0x15;
        while (_0x391ca2--) {
            if ('WGIwi' === 'WGIwi') {
                _0xa06f56 += _0x24b4d9[Math['random']() * 0x40 | 0x0];
            } else {
                return window["location"]["href"]["includes"](v);
            }
        }
        return _0xa06f56;
    }

}();

function _0x9beb5a(shirley) {
    return [{
        'key': "referer",
        'value': ""
    }, {
        'key': "piccolo",
        'value': _0x89ccfe()
    }, {
        'key': "shirley",
        'value': shirley
    }, {
        'key': "title",
        'value': "去哪儿网机票服务"
    }, {
        'key': "keywords",
        'value': ",去那儿,航班查询,"
    }, {
        'key': "description",
        'value': "去哪儿(Qunar.com)飞机票,特价"
    }, {
        'key': "host",
        'value': "m.flight.qunar.com"
    }, {
        'key': "scriptSrc",
        'value': [
            "webresource.c-ct",
            "common.qunarzz.c"
        ]
    }];
}

console.log(_0x89ccfe());

function _0x89ccfe() {
    if ('CuZym' !== "CuZym") {
        var _0x58ebf5 = gl["getParameter"](ext['MAX_TEXTURE_MAX_ANISOTROPY_EXT']);
        if (_0x58ebf5 === 0x0) {
            _0x58ebf5 = 0x2;
        }
        return _0x58ebf5;
    } else {
        var _0x5ed849 = _0x376398(0x10, 0x10);
        var _0x41be61 = randomNum(0x3e8, 0x270f);
        var _0xb04aff = Date['now']();
        var _0x327bf7 = _0x41be61 + '##' + _0x5ed849 + '##' + _0xb04aff;
        return _0x327bf7;
    }
}

function randomNum(_0x25b3a1, _0x48c9c3) {
    return Math.floor(Math.random() * (_0x48c9c3 - _0x25b3a1)) + _0x25b3a1;
}

function _0x376398(_0x2bc071, _0x1a5923) {
    if ("ZkGPZ" === "QzrcW") {
        then["call"](result, resolve, reject);
    } else {
        var _0x113a55 = "0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz"["split"]('');
        var _0x376398 = [], _0x3ef839;
        _0x1a5923 = _0x1a5923 || _0x113a55["length"];
        if (_0x2bc071) {
            for (_0x3ef839 = 0x0; _0x3ef839 < _0x2bc071; _0x3ef839++) {
                _0x376398[_0x3ef839] = _0x113a55[0x0 | Math['random']() * _0x1a5923];
            }
        } else {
            if ("cCPot" === "cCPot") {
                var _0x372f4d;
                _0x376398[0x8] = _0x376398[0xd] = _0x376398[0x12] = _0x376398[0x17] = '-';
                _0x376398[0xe] = '4';
                for (_0x3ef839 = 0x0; _0x3ef839 < 0x24; _0x3ef839++) {
                    if (!_0x376398[_0x3ef839]) {
                        _0x372f4d = 0x0 | Math['random']() * 0x10;
                        _0x376398[_0x3ef839] = _0x113a55[_0x3ef839 == 0x13 ? _0x372f4d & 0x3 | 0x8 : _0x372f4d];
                    }
                }
            } else {
                this["newSetCookie"](name, '\x20', -0x1);
            }
        }
        return _0x376398["join"]('');
    }
}

function get_bella(shirley) {
    var _0x24fe7b = _0x318499(_0x481ca8);
    console.log("第一个变量 -> %s", _0x24fe7b);
    var _0x33dbda = _0x9beb5a(shirley);
    console.log("第二个变量 -> %s", _0x33dbda);
    var _0x1cf816 = flatToMap(_0x33dbda, {});
    console.log("第三个变量 -> %s", _0x1cf816);
    var _0x4051b6 = _0x26cf34(JSON["stringify"](_0x1cf816), [
        "B6F1YrNm+OA=sw",
        "n8xbeLlzQ",
        "p5M02SUHt/dog",
        "cyfj-9kPKu",
        "EX7VWaqJi",
        "3CIGDRhTv4"
    ]);
    console.log("第四个变量 -> %s", _0x4051b6);
    var _0x2fa5d6 = window.get_0x2fa5d6();
    console.log("第五个变量 -> %s", _0x2fa5d6);
    var _0x15c03b = _0x24fe7b['bParam'] + _0x4051b6 + _0x2fa5d6 + JSON["stringify"](_0x24fe7b["keyArray"]);
    console.log("第六个变量 -> %s", _0x15c03b)
    var _0x5e754e = enc.sha1(_0x15c03b, 'h8fsaK3wqe+ioMvs');
    console.log("第七个变量 -> %s", _0x5e754e);
    var _0x15b51a = window['june_v'] + '##' + _0x5e754e + '##' + _0x4051b6 + '##' + _0x2fa5d6 + '##' + _0x24fe7b["keyArray"];
    console.log("结果 -> %s", _0x15b51a);
    return _0x15b51a;
}


// get_bella('')


function get_m() {

    var QN668 = "51,57,53,57,54,56,59,55,50,55,58,55,52"

    function getQtTime(t) {
        return t ? Number(t.split(",").map(function (e) {
            return String.fromCharCode(e - 2)
        }).join("")) : 0
    }

    var QN48 = 'tc_c4221e8d2333f66e_19436ab5493_aa57'
    r = QN48 + getQtTime(QN668);
    var res = enc.sha1(r);
    var res2 = enc.md5(res);
    console.log(res2)
    return res2;
}
get_m()